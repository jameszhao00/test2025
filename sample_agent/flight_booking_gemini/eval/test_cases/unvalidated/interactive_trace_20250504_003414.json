{
  "goal_description": "The user aimed to book a flight from NYC to Jakarta departing on June 1st, 2026.",
  "initial_state": {
    "current_date": "2025-05-04"
  },
  "golden_trace": [
    {
      "type": "user",
      "text": "nyc to jakarta"
    },
    {
      "type": "agent",
      "text": "What date would you like to fly?  I need a departure date to search for flights from NYC to Jakarta.\n"
    },
    {
      "type": "user",
      "text": "next year"
    },
    {
      "type": "agent",
      "text": "To search for flights, I need a specific departure date.  \"Next year\" is a bit vague.  Could you please provide a month and day?  For example, \"June 15th\" or \"December 24th\".\n"
    },
    {
      "type": "user",
      "text": "june next year"
    },
    {
      "type": "tool_interaction",
      "name": "search_flights",
      "args": {
        "destination": "JKT",
        "origin": "NYC",
        "departure_date": "2026-06-01"
      },
      "result": [
        {
          "flight_id": "AA638",
          "airline": "AA",
          "departure_time": "12:00",
          "arrival_time": "16:15",
          "price": 243
        }
      ]
    },
    {
      "type": "agent",
      "text": "OK. I found one flight from NYC to Jakarta for June 1st, 2026.  The flight is on American Airlines (AA638), departs at 12:00pm and arrives at 4:15pm. The price is $243.  Would you like to book this flight?\n"
    },
    {
      "type": "user",
      "text": "yea"
    },
    {
      "type": "tool_interaction",
      "name": "book_flight",
      "args": {
        "flight_id": "AA638"
      },
      "result": {
        "booking_id": "BK12973",
        "status": "confirmed",
        "message": "Flight AA638 booked successfully."
      }
    },
    {
      "type": "agent",
      "text": "Great! Your flight has been booked. Your booking ID is BK12973.  You'll receive a confirmation email shortly.  Is there anything else I can help you with today?\n"
    }
  ],
  "assertions": [
    {
      "name": "CorrectOriginDestinationIdentification",
      "description": "Verify that the agent correctly identified the origin as NYC and the destination as Jakarta from the user's initial request.",
      "prompt_template": "Did the agent correctly identify the origin as NYC and the destination as Jakarta based on the user's initial request 'nyc to jakarta'?",
      "expected_response": "YES",
      "is_outcome_check": false
    },
    {
      "name": "CorrectRelativeDateInterpretation",
      "description": "Verify that the agent correctly interpreted 'june next year' as June 1st, 2026, given the initial date was May 4th, 2025, and used this absolute date in the search tool call.",
      "prompt_template": "Based on the conversation and knowing the initial current date was 2025-05-04, did the agent correctly search for flights using the absolute date 2026-06-01 in its 'search_flights' tool call when the user specified 'june next year'?",
      "expected_response": "YES",
      "is_outcome_check": false
    },
    {
      "name": "PresentedSearchResults",
      "description": "Verify that the agent presented the details of the found flight(s) from the search tool result to the user before asking if they wanted to book.",
      "prompt_template": "After receiving the search results for NYC to Jakarta on June 1st, 2026, did the agent inform the user about the found flight(s) including details like airline, flight number (AA638), departure/arrival times, and price ($243)?",
      "expected_response": "YES",
      "is_outcome_check": false
    },
    {
      "name": "BookedCorrectFlightUponConfirmation",
      "description": "Verify that the agent initiated the booking process for the specific flight (AA638) identified in the search results after the user confirmed ('yea').",
      "prompt_template": "Did the agent make a 'book_flight' tool call specifically for flight AA638 after the user responded 'yea' to the offer to book the flight?",
      "expected_response": "YES",
      "is_outcome_check": false
    },
    {
      "name": "ReportedBookingConfirmationAndID",
      "description": "Verify that the agent confirmed to the user that the flight was booked and provided the booking ID obtained from the tool result.",
      "prompt_template": "Did the agent confirm to the user that the flight was successfully booked and provide the booking ID BK12973 after receiving the successful result from the 'book_flight' tool call?",
      "expected_response": "YES",
      "is_outcome_check": true
    }
  ]
}