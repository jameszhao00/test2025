{
    "goal_description": "Book the cheapest flight from SFO to JFK for tomorrow",
    "initial_state": {
      "current_date": "2024-10-26"
    },
    "golden_trace": [
      {
        "type": "user",
        "text": "book a flight from SFO to NYC for tomorrow."
      },
      {
        "type": "agent",
        "text": "Okay, I can help with that. Searching for flights from SFO to JFK for tomorrow, October 27th, 2024."
      },
      {
        "type": "tool_interaction",
        "name": "search_flights",
        "args": {
          "origin": "SFO",
          "destination": "JFK",
          "departure_date": "2024-10-27"
        },
        "result": [
          {
            "flight_id": "UA456",
            "airline": "UA",
            "departure_time": "09:15",
            "arrival_time": "17:30",
            "price": 420
          },
          {
            "flight_id": "AA123",
            "airline": "AA",
            "departure_time": "11:00",
            "arrival_time": "19:15",
            "price": 395
          }
        ]
      },
      {
        "type": "agent",
        "text": "I found a couple of flights for tomorrow, October 27th. UA456 departs at 9:15 AM for $420, and AA123 departs at 11:00 AM for $395. Do either of those work for you?"
      },
      {
        "type": "user",
        "text": "book AA123"
      },
      {
        "type": "agent",
        "text": "Alright, booking flight AA123 from SFO to JFK for tomorrow, October 27th."
      },
      {
        "type": "tool_interaction",
        "name": "book_flight",
        "args": {
          "flight_id": "AA123"
        },
        "result": {
          "booking_id": "BK78910",
          "status": "confirmed",
          "message": "Flight AA123 booked successfully."
        }
      },
      {
        "type": "agent",
        "text": "Great! Your flight AA123 is confirmed for tomorrow, October 27th. Your booking ID is BK78910. Anything else?"
      },
      {
        "type": "user",
        "text": "no"
      }
    ],
    "assertions": [
      {
        "name": "Correct Date Interpretation",
        "description": "Checks if the agent correctly interpreted 'tomorrow' based on the initial state's current_date and used the absolute date in the search.",
        "prompt_template": "Based on the conversation and knowing the current date was 2024-10-26, did the agent correctly search for flights on the absolute date 2024-10-27 when the user asked for 'tomorrow'? If the answer is yes, answer YES. If the answer is no, answer NO with a reason.",
        "expected_response": "YES",
        "is_outcome_check": false
      },
      {
        "name": "Infers date",
        "description": "Checks the agent infers the date automatically.",
        "prompt_template": "Did the agent infer the date using the word 'tomorrow'?? If the answer is yes, answer YES. If the answer is no, answer NO with a reason.",
        "expected_response": "YES",
        "is_outcome_check": false
      },
      {
        "name": "Flight Offered",
        "description": "Checks if the agent offered flight options after searching.",
        "prompt_template": "Did the agent present flight options (like specific flight IDs or times/prices) to the user after the initial search? If the answer is yes, answer YES. If the answer is no, answer NO with a reason.",
        "expected_response": "YES",
        "is_outcome_check": false
      },
      {
        "name": "Correct Flight Booked",
        "description": "Checks if the agent attempted to book the flight the user selected (AA123).",
        "prompt_template": "Did the agent call the 'book_flight' tool with the flight ID 'AA123' after the user requested it? If the answer is yes, answer YES. If the answer is no, answer NO with a reason.",
        "expected_response": "YES",
        "is_outcome_check": false
      },
      {
        "name": "Booking Confirmed",
        "description": "Checks if the agent confirmed the booking and provided a booking ID.",
        "prompt_template": "Did the agent ultimately confirm the flight booking and provide a booking ID (like BK*)? If the answer is yes, answer YES. If the answer is no, answer NO with a reason.",
        "expected_response": "YES",
        "is_outcome_check": true
      }
    ]
  }